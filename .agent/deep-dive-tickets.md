# Deep-Dive Ticket Backlog

| #   | Finding                                                       | Recommendation / Action                                                                                                                                                | Effort | Priority |
| --- | ------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | -------- |
| 1   | GraphQL SDK files (60k LOC) inflate lint/LOC stats            | Exclude `src/**/generated/**/*` in ESLint/max-lines and coverage scripts                                                                                               | XS     | Low      |
| 2   | Oversized curriculum helper (`8_units.ts` ~7.6k LOC)          | Split into logical modules; target ≤500 LOC/file                                                                                                                       | M      | High     |
| 3   | Console logs in production code                               | Replace with injected logger or remove                                                                                                                                 | S      | Medium   |
| 4   | Hand-written `: any` usages (~10)                             | Refactor to proper types; add ESLint rule `no-explicit-any` with allow-list for generated                                                                              | S      | High     |
| 5   | No branded types                                              | Introduce opaque type pattern for identifiers (e.g., `LessonId`)                                                                                                       | S      | Low      |
| 6   | Cross-layer imports components → node-lib                     | 214 client files import server modules (see `.agent/node-lib-imports-in-client.md`). Introduce ESLint import-layer rule; move shared logic to `common-lib`/`services`. | L      | Critical |
| 7   | Missing HTTP client abstraction                               | Create `                                                                                                                                                               |
| 14  | Imports from `src/pages/*` into helpers/components (74 files) | Extract shared logic into `src/pages-helpers/` or `components`; forbid importing from `pages` via ESLint rule                                                          | M      | High     |
| 15  | Test files importing other tests (2 cases)                    | Refactor fixtures into separate util files to avoid duplicate test execution; add lint rule                                                                            | S      | Low      |
